<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>For Ely Ɛ> </title>

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #fff7fb;
      text-align: center;
      padding: 60px;
      transition: background 0.3s ease;
      overflow-x: hidden;
      position: relative;
    }

    h1 {
      font-size: 32px;
      margin-bottom: 20px;
    }

    .color-picker {
      margin-bottom: 20px;
      font-size: 14px;
      opacity: 0.8;
    }

    input[type="color"] {
      border: none;
      background: none;
      cursor: pointer;
      height: 35px;
      width: 50px;
    }

    #playerSlider {
      -webkit-appearance: slider-vertical;
      writing-mode: bt-lr;
      width: 50px;
      height: 300px;
      background: #ffd6e8;
      margin-left: 10px;
      border-radius: 12px;
    }

    button {
      padding: 15px 25px;
      font-size: 18px;
      border-radius: 12px;
      border: none;
      cursor: pointer;
      background: #ffd6e8;
      transition: transform 0.05s ease, background 0.2s ease;
      margin: 5px;
      position: relative;
    }

    button:hover {
      transform: scale(1.05);
    }

    button[data-tooltip]:hover::after {
      content: attr(data-tooltip);
      position: absolute;
      top: -25px;
      left: 50%;
      transform: translateX(-50%);
      background: #ffd6e8;
      padding: 5px 10px;
      border-radius: 8px;
      font-size: 14px;
      white-space: nowrap;
      z-index: 10;
      box-shadow: 0 0 5px rgba(0,0,0,0.2);
    }

    #message {
      margin-top: 30px;
      font-size: 20px;
      max-width: 720px;
      margin-left: auto;
      margin-right: auto;
      line-height: 1.7;
      white-space: pre-line;
    }

    #countdown {
      position: fixed;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 14px;
      opacity: 0.75;
    }

    /* Hearts */
    .heart {
      position: absolute;
      width: 15px;
      height: 15px;
      background: red;
      transform: rotate(45deg);
      animation: float 6s linear forwards;
      z-index: 0;
    }
    .heart::before,
    .heart::after {
      content: '';
      position: absolute;
      width: 15px;
      height: 15px;
      background: red;
      border-radius: 50%;
    }
    .heart::before { top: -7.5px; left: 0; }
    .heart::after { left: -7.5px; top: 0; }

    @keyframes float {
      0% { transform: translateY(0) rotate(45deg); opacity: 1; }
      100% { transform: translateY(-500px) rotate(45deg); opacity: 0; }
    }

    /* Full screen overlay */
    #overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #fff7fb;
      z-index: 1000;
      text-align: center;
      padding: 100px 20px;
      box-sizing: border-box;
    }

    #overlay h2 {
      font-size: 28px;
      line-height: 1.6;
    }

    #overlay button {
      margin-top: 40px;
      background: #ffd6e8;
      padding: 15px 25px;
      font-size: 18px;
      border-radius: 12px;
      border: none;
      cursor: pointer;
    }

    /* Pong game */
    #pongContainer {
      display: none;
      margin-top: 20px;
      position: relative;
      height: 300px;
    }

    #pongCanvas {
      background: #fff0f5;
      border: 2px solid #ffd6e8;
      display: block;
      margin: 0 auto;
    }

    #sliderContainer {
      position: absolute;
      left: -60px;
      top: 0;
      height: 300px;
      display: flex;
      align-items: center;
    }

    /* Easter egg image */
    #catImg {
      display: none;
      max-width: 300px;
      margin-top: 20px;
      border-radius: 12px;
    }

    /* Don’t click me box */
    #easterEgg {
      font-size: 12px;
      color: #ff69b4;
      cursor: pointer;
      position: fixed;
      bottom: 5px;
      right: 5px;
      padding: 5px 10px;
      border: 2px dashed #ff69b4;
      border-radius: 8px;
      background: #fff0f5;
    }
  </style>
</head>

<body>

  <div class="color-picker">
    pick a background color  
    <input type="color" id="bgColorPicker">
  </div>

  <h1>Click for something happy</h1>
  <button id="happyBtn" data-tooltip="Click to see a happy message!">Click me</button>

  <h1>Click when you miss me</h1>
  <button id="missBtn" data-tooltip="Click to see why I love you!">Click me</button>

  <h1>Play a stress-free ping pong game</h1>
  <button id="pongBtn" data-tooltip="Play table hockey vs me!">Play hockey vs me</button>

  <div id="message"></div>
  <div id="countdown"></div>

  <!-- Easter egg -->
  <div id="easterEgg">don't click me</div>
  <img id="catImg" src="forely.jpg" alt="I love you">

  <!-- Full screen overlay -->
  <div id="overlay">
    <h2 id="overlayMessage"></h2>
    <button onclick="closeOverlay()">Back</button>
  </div>

  <!-- Pong game -->
  <div id="pongContainer">
    <div id="sliderContainer">
      <input type="range" id="playerSlider" min="0" max="240" value="120">
    </div>
    <canvas id="pongCanvas" width="500" height="300"></canvas>
    <p>First to 5 wins. You vs Fred</p>
    <button onclick="endPong()">Exit Game</button>
  </div>

  <script>
    // Persist background color
    const body = document.body;
    const colorPicker = document.getElementById("bgColorPicker");
    const savedColor = localStorage.getItem("bgColor");
    if (savedColor) {
      body.style.background = savedColor;
      colorPicker.value = savedColor;
    }
    colorPicker.addEventListener("input", function() {
      body.style.background = colorPicker.value;
      localStorage.setItem("bgColor", colorPicker.value);
    });

    // Occasional floating hearts
    function createHeart() {
      if (Math.random() > 0.7) { // 30% chance each interval
        const heart = document.createElement("div");
        heart.className = "heart";
        heart.style.left = Math.random() * window.innerWidth + "px";
        heart.style.animationDuration = (4 + Math.random() * 4) + "s";
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 8000);
      }
    }
    setInterval(createHeart, 500);

    // Happy and miss messages
    const happyMessages = [
      "It’s been a long day, but tomorrow hasn’t happened yet, and I’m excited to see you smile",
      "Cats exist, and I hope they make you happy hehe :>",
      "Look at how far you’ve come, you’ve done amazing! and I’m so proud of you",
      "Someone very wise once said the tassle was worth the hassle... I wonder who said that?",
      "I am proud of you, and I love you",
      "Food helps, and I hope you enjoy every great meal you have",
      "There are so many songs left for you to discover, and I can’t wait to enjoy them with you",
      "Look around, there are people in your life who care about you, and I definitely do",
      "You have things to look forward to, surprises coming your way, and special days ahead",
      "You make a positive impact pn people’s lives, including mine, your kindness matters"
    ];

    const smileThings = [
      "you know your smile brightens my day",
      "the way you love me is so beautiful hehe",
      "i love the way you genuinely care for me ely",
      "the shared moments we have are special to me, let's create more!",
      "i like the photos we share, they make me feel close to you!",
      "why dont you listen to our playlist together? send me the spotify jam link if you have time :>",
      "its beautiful how you're busy but still have time for me",
      "when you call me baby it instantly makes me kilig btw",
      "pls text me cutely now i miss you too",
      "hey! you're on a website, and i miss you too!!! come and tell me hehe"
    ];

    const overlay = document.getElementById("overlay");
    const overlayMessage = document.getElementById("overlayMessage");

    document.getElementById("happyBtn").addEventListener("click", () => {
      const random = Math.floor(Math.random() * happyMessages.length);
      overlayMessage.innerText = happyMessages[random];
      overlay.style.display = "block";
    });

    document.getElementById("missBtn").addEventListener("click", () => {
      const random = Math.floor(Math.random() * smileThings.length);
      overlayMessage.innerText = "I miss you too, I love you\n\n" + smileThings[random];
      overlay.style.display = "block";
    });

    function closeOverlay() { overlay.style.display = "none"; }

    // Easter egg
    document.getElementById("easterEgg").addEventListener("click", () => {
      if (confirm("Are you sure?!?!")) {
        document.getElementById("catImg").style.display = "block";
      }
    });

    // Countdown
    function updateCountdown() {
      const now = new Date();
      const day = now.getDay();
      const daysUntilSaturday = (6 - day + 7) % 7;
      const nextSaturday = new Date(now);
      nextSaturday.setDate(now.getDate() + daysUntilSaturday);
      nextSaturday.setHours(0, 0, 0, 0);
      const diff = nextSaturday - now;
      const hours = Math.floor(diff / (1000 * 60 * 60));
      const minutes = Math.floor((diff / (1000 * 60)) % 60);
      document.getElementById("countdown").innerText =
        `Weekend in ${hours}h ${minutes}m`;
    }
    updateCountdown();
    setInterval(updateCountdown, 60000);

    // Pong game
    const pongBtn = document.getElementById("pongBtn");
    const pongContainer = document.getElementById("pongContainer");
    const canvas = document.getElementById("pongCanvas");
    const ctx = canvas.getContext("2d");

    let playerY, fredY, ballX, ballY, ballVX, ballVY;
    let playerScore, fredScore;
    let animationId;

    const slider = document.getElementById("playerSlider");

    function startPong() {
      pongContainer.style.display = "block";
      playerY = parseInt(slider.value);
      fredY = canvas.height / 2 - 30;
      ballX = canvas.width / 2;
      ballY = canvas.height / 2;
      ballVX = 3;
      ballVY = 2;
      playerScore = 0;
      fredScore = 0;
      animatePong();
    }

    pongBtn.addEventListener("click", startPong);

    function animatePong() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      ctx.fillStyle = "#800000"; // dark color for paddles
      ctx.fillRect(10, playerY, 10, 60);
      ctx.fillRect(canvas.width - 20, fredY, 10, 60);

      ctx.beginPath();
      ctx.arc(ballX, ballY, 7, 0, Math.PI * 2);
      ctx.fill();

      ballX += ballVX;
      ballY += ballVY;

      if (ballY < 0 || ballY > canvas.height) ballVY *= -1;
      if (ballX < 20 && ballY > playerY && ballY < playerY + 60) ballVX *= -1;
      if (ballX > canvas.width - 20 && ballY > fredY && ballY < fredY + 60) ballVX *= -1;

      // Fred moves slower and randomly
      const fredSpeed = 0.3 + Math.random(); // slower & variable
      if (fredY + 30 < ballY) fredY += fredSpeed;
      if (fredY + 30 > ballY) fredY -= fredSpeed;

      if (ballX < 0) { fredScore++; resetBall(); }
      if (ballX > canvas.width) { playerScore++; resetBall(); }

      ctx.fillStyle = "#000";
      ctx.font = "16px Arial";
      ctx.fillText("You: " + playerScore, 50, 20);
      ctx.fillText("Fred: " + fredScore, canvas.width - 100, 20);

      if (playerScore >= 5 || fredScore >= 5) {
        ctx.fillStyle = "#000";
        ctx.font = "20px Arial";
        const winner = playerScore > fredScore ? "You win!" : "Fred wins!";
        ctx.fillText(winner, canvas.width / 2 - 50, canvas.height / 2);
        return;
      }

      animationId = requestAnimationFrame(animatePong);
    }

    function resetBall() {
      ballX = canvas.width / 2;
      ballY = canvas.height / 2;
      ballVX = 3 * (Math.random() > 0.5 ? 1 : -1);
      ballVY = 2 * (Math.random() > 0.5 ? 1 : -1);
    }

    slider.addEventListener("input", () => {
      let val = parseInt(slider.value);
      if (val < 0) val = 0;
      if (val > canvas.height - 60) val = canvas.height - 60;
      playerY = val;
    });

    function endPong() {
      pongContainer.style.display = "none";
      cancelAnimationFrame(animationId);
    }
  </script>
</body>
</html>
